### ç¬¬ä¸€ç« ï¼šå‰ç«¯å·¥ç¨‹åŒ–ä¸»è¦è§£å†³çš„é—®é¢˜

- ä¼ ç»Ÿè¯­è¨€æˆ–è¯­æ³•çš„å¼Šç«¯ï¼›
- æ— æ³•ä½¿ç”¨æ¨¡å—åŒ– / ç»„ä»¶åŒ–ï¼›
- é‡å¤çš„æœºæ¢°å·¥ä½œï¼›
- ä»£ç é£æ ¼ç»Ÿä¸€ã€è´¨é‡ä¿è¯ï¼›
- ä¾èµ–åç«¯æœåŠ¡æ¥å£æ”¯æŒï¼›
- æ•´ä½“ä¾èµ–åç«¯é¡¹ç›®ï¼›

![image-20211222103124740](files/typora-user-images/image-20211222103124740.png)

å‰ç«¯å·¥ç¨‹åŒ–çš„å†…å®¹æ¦‚å†µï¼š

- è„šæ‰‹æ¶å·¥å…·å¼€å‘ï¼›
- è‡ªåŠ¨åŒ–æ„å»ºç³»ç»Ÿï¼›
- æ¨¡å—åŒ–æ‰“åŒ…ï¼›
- é¡¹ç›®ä»£ç è§„èŒƒåŒ–ï¼›
- è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼›

### ç¬¬äºŒç« ï¼šè„šæ‰‹æ¶å·¥å…·å¼€å‘

- æ¦‚è¦ï¼š

  - ç›¸åŒçš„ç»„ç»‡ç»“æ„ï¼›
  - ç›¸åŒçš„å¼€å‘èŒƒå¼ï¼›
  - ç›¸åŒçš„æ¨¡å—ä¾èµ–ï¼›
  - ç›¸åŒçš„å·¥å…·é…ç½®ï¼›
  - ç›¸åŒçš„åŸºç¡€ä»£ç ï¼›

- è„šæ‰‹æ¶å·¥å…·çš„ä½œç”¨ï¼š

  - 

- å¸¸ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š

  - React é¡¹ç›® --> create-react-appï¼›
  - Vue é¡¹ç›® --> vue-cli;
  - Angular é¡¹ç›® --> angular-cli;
  - Yeoman ï¼ˆé€šç”¨å‹è„šæ‰‹æ¶å·¥å…·ï¼‰çµæ´»ã€æ˜“æ‰©å±•ï¼›
  - Plop ï¼ˆåˆ›å»ºç‰¹å®šç±»å‹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªç»„ä»¶ / æ¨¡å—æ‰€éœ€è¦çš„æ–‡ä»¶ï¼‰

- é€šç”¨è„šæ‰‹æ¶å·¥å…·å‰–æï¼š

  - Yeoman ï¼ˆé€šç”¨å‹è„šæ‰‹æ¶å·¥å…·ï¼‰çµæ´»ã€æ˜“æ‰©å±•

  ![image-20211222112153794](files/typora-user-images/image-20211222112153794.png)

  - Yeoman å¸¸è§„ä½¿ç”¨æ­¥éª¤ï¼š

    1. æ˜ç¡®éœ€æ±‚ï¼›
    2. æ‰¾åˆ°åˆé€‚çš„ Generatorï¼›
    3. å…¨å±€èŒƒå›´å®‰è£…æ‰¾åˆ°çš„ Generatorï¼›
    4. é€šè¿‡ Yo è¿è¡Œå¯¹åº”çš„ Generatorï¼›
    5. é€šè¿‡å‘½ä»¤è¡Œäº¤äº’å¡«å†™é€‰é¡¹ï¼›
    6. ç”Ÿæˆæ‰€éœ€è¦çš„é¡¹ç›®ç»“æ„ï¼›

    - è‡ªå®šä¹‰ Generatorï¼š

      1. Generator åŸºæœ¬ç»“æ„ï¼š

      <img src="files/typora-user-images/image-20211222113429806.png" alt="image-20211222113429806" style="zoom:50%;" />

      ![image-20211222113619776](../../../Library/Application%20Support/typora-user-images/image-20211222113619776.png)

      2. Generator æ¨¡å—åç§°ï¼š

         å¿…é¡»æ˜¯ï¼šgenerator-<name>

      3. æ ¹æ®æ¨¡ç‰ˆåˆ›å»ºæ–‡ä»¶ï¼šï¼ˆæå‡æ–‡ä»¶åˆ›å»ºçš„æ•ˆç‡ï¼‰

      4. å‘å¸ƒ Generatorï¼š

         1. åˆ›å»º generator æ¨¡å—ï¼Œ
         2. åˆ›å»º git ä»“åº“ï¼›
         3. æ¨é€åˆ°è¿œç¨‹ GitHubï¼Œ
         4. é€šè¿‡ npm publish æˆ– yarn publish å‘å¸ƒåˆ° npm ä»“åº“ï¼›
         5. ä½¿ç”¨ï¼š
            1. å¯ä»¥é€šè¿‡ npm æˆ– yarn ä¸‹è½½ä½¿ç”¨ yeoman 

  - npm é•œåƒåŠ é€Ÿæºï¼š

  ![image-20211222113108322](files/typora-user-images/image-20211222113108322.png)

- å¼€å‘ä¸€æ¬¾è„šæ‰‹æ¶ï¼š

- Plop å°è€Œç¾çš„è„šæ‰‹æ¶å·¥å…·ï¼š

  - æé«˜åˆ›å»ºé‡å¤æ–‡ä»¶çš„æ•ˆç‡

  ![image-20211222150309526](files/typora-user-images/image-20211222150309526.png)

  - ä½¿ç”¨ Plop çš„æ­¥éª¤ï¼š
    1. å°† plop æ¨¡å—ä½œä¸ºé¡¹ç›®å¼€å‘ä¾èµ–å®‰è£…ï¼›
    2. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª plopfile.js æ–‡ä»¶ï¼›
    3. åœ¨ plopfile.js æ–‡ä»¶ä¸­å®šä¹‰è„šæ‰‹æ¶ä»»åŠ¡ï¼›
    4. ç¼–å†™ç”¨äºç”Ÿæˆç‰¹å®šç±»å‹æ–‡ä»¶çš„æ¨¡ç‰ˆï¼›ï¼ˆplop-templates / xxx.hbsï¼‰
    5. é€šè¿‡ plop æä¾›çš„ cli è¿è¡Œè„šæ‰‹æ¶ä»»åŠ¡ï¼›
       - yarn plop xxxï¼ˆç”Ÿæˆå™¨ä»»åŠ¡åï¼‰

- CLI è„šæ‰‹æ¶ï¼š

  ```javascript
  // Node CLI åº”ç”¨å…¥å£æ–‡ä»¶å¿…é¡»è¦æœ‰è¿™æ ·çš„æ–‡ä»¶å¤´
  // å¦‚æœ Linux æˆ–è€… macOS ç³»ç»Ÿä¸‹è¿˜éœ€è¦ä¿®æ”¹æ­¤æ–‡ä»¶çš„è¯»å†™æƒé™ä¸º 755
  // å…·ä½“å°±æ˜¯é€šè¿‡ chmod 755 cli.js å®ç°ä¿®æ”¹ï¼›
  
  /**
   * è„šæ‰‹æ¶çš„å·¥ä½œè¿‡ç¨‹ï¼š
   * 1.é€šè¿‡å‘½ä»¤è¡Œäº¤äº’è¯¢é—®ç”¨æˆ·é—®é¢˜
   * 2.æ ¹æ®ç”¨æˆ·å›ç­”çš„ç»“æœç”Ÿæˆæ–‡ä»¶
  */
  
  const fs = require('fs')
  const path = require('path')
  const inquirer = require('inquirer')
  const ejs = require('ejs')
  
  inquirer.prompt([
      {
          type:'input',
          name:'name',
          message: 'Project name ?'
      }
  ])
  .then(anwsers =>{
      // æ ¹æ®ç”¨æˆ·å›ç­”çš„ç»“æœç”Ÿæˆæ–‡ä»¶
      // æ¨¡ç‰ˆç›®å½•
      const templDir = path.join(__dirname, 'templates')
      // ç›®æ ‡ç›®å½•
      const destDir = process.cwd()
      // å°†æ¨¡ç‰ˆç›®å½•ä¸‹çš„æ–‡ä»¶å…¨è½¬æ¢åˆ°ç›®æ ‡ç›®å½•
      fs.readFile(templDir, (err, files) => {
          if(err) throw err
          files.forEach(file => {
              ejs.readFile(path.join(templDir, file), anwsers, (err, result) => {
                  if(err) throw err
                  // å°†ç»“æœå†™å…¥ç›®æ ‡æ–‡ä»¶è·¯å¾„ä¸­
                  fs.writeFileSync(path.join(destDir, file), result)
              })
          })
      })
  })
  ```

### ç¬¬ä¸‰ç« ï¼šè‡ªåŠ¨åŒ–æ„å»ºç³»ç»Ÿ

![image-20211222154727137](files/typora-user-images/image-20211222154727137.png)

- è‡ªåŠ¨åŒ–æ„å»ºçš„ä½œç”¨ï¼š

  1. è„±ç¦»è¿è¡Œç¯å¢ƒå…¼å®¹å¸¦æ¥çš„é—®é¢˜ï¼›
  2. åœ¨å¼€å‘é˜¶æ®µï¼Œä½¿ç”¨æé«˜æ•ˆç‡çš„è¯­æ³•ã€è§„èŒƒå’Œæ ‡å‡†ï¼›

- NPM Script æ–¹å¼ï¼ŒåŒ…è£…æ„å»ºå‘½ä»¤ï¼š

  ![image-20211222155459888](files/typora-user-images/image-20211222155459888.png)

  - â€œbuildâ€ï¼šâ€œsass  sass/main.scss  css/style.css  --watchâ€ 

  - â€œpreserve â€ï¼šâ€œyarn buildâ€  //  å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨å‰è‡ªåŠ¨å…ˆæ„å»ºï¼ˆbuildï¼‰ä¸€ä¸‹

  - â€œserveâ€ï¼šâ€œbrowser-sync  .  --files  \"css/*.css\ â€  // æœ¬åœ°é™æ€æœwebåŠ¡å™¨

    --filesï¼šç›‘å¬é¡¹ç›®ä¸‹æ–‡ä»¶çš„å˜åŒ–ï¼Œè€Œå®æ—¶åŒæ­¥æ›´æ–°æµè§ˆå™¨ä¸­çš„å˜åŒ–æ•ˆæœï¼Œæ›´æ”¹å®Œæˆåé¿å…æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨ã€‚

  - â€œstartâ€ï¼šâ€œrun-p build serveâ€ // åŒæ—¶æ„å»ºåå¯åŠ¨é™æ€æœåŠ¡ä¸”å®æ—¶ç›‘å¬æ–‡ä»¶å˜åŒ–

- å¸¸ç”¨çš„æ„å»ºå·¥å…·ï¼š

  - Gruntï¼š

    - å·¥ä½œè¿‡ç¨‹æ˜¯åŸºäºä¸´æ—¶æ–‡ä»¶å»å®ç°çš„ï¼Œæ‰€ä»¥æ„å»ºé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼›
    - å…ˆç¼–è¯‘ => è‡ªåŠ¨æ·»åŠ ç§æœ‰å±æ€§å‰ç¼€ => å‹ç¼©ä»£ç ï¼›ï¼ˆæ¶ˆè€—ç£ç›˜è¯»å†™æ“ä½œï¼‰
    - return flase // æ ‡è®°å¤±è´¥ä»»åŠ¡ï¼Œä¸”åé¢çš„ä»»åŠ¡ä¸åœ¨æ‰§è¡Œï¼›
    - grunt æ’ä»¶ä½¿ç”¨ï¼š
      1. é€šè¿‡ npm å®‰è£…æ’ä»¶ï¼›
      2. å†åˆ° gruntfile.js ä¸­è½½å…¥æ’ä»¶ï¼›ï¼ˆgrunt.loadNpmTasks(â€˜grunt-contrib-cleanâ€™)ï¼‰
      3. æ ¹æ®æ’ä»¶çš„æ–‡æ¡£ï¼Œå®Œæˆé…ç½®é€‰é¡¹ï¼›ï¼ˆgrunt.initConfig()ï¼‰
      4. *grunt-contrib-watch* æ’ä»¶ï¼šæ–‡ä»¶ä¿®æ”¹å®Œåè‡ªåŠ¨ç¼–è¯‘

  - Gulpï¼š

    - åŸºäºå†…å­˜å®ç°çš„ï¼Œæ–‡ä»¶å¤„ç†ç¯èŠ‚éƒ½æ˜¯åœ¨å†…å­˜ä¸­å®ç°çš„ï¼›ç›¸å¯¹ç£ç›˜è¯»å†™å¿«äº†å¾ˆå¤šï¼›

    - é»˜è®¤æ”¯æŒåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼›

    - åŸºæœ¬ä½¿ç”¨ï¼š

      - å¯¼å‡ºå‡½æ•°çš„æ–¹å¼å®ç° gulp ä»»åŠ¡

      ```javascript
      exprots.foo = done => {
        console.log('foo task working')
        done() // æ ‡è¯†ä»»åŠ¡ç»“æŸ
      }
      // é»˜è®¤ä»»åŠ¡
      exports.default = done => {
        console.log('default task working')
        done() // æ ‡è¯†ä»»åŠ¡ç»“æŸ
      }
      ```

      - 4.0 ä¹‹å‰çš„ç‰ˆæœ¬

      ```javascript
      const gulp = require('gulp')
      gulp.task('bar', done => {
        console.log('bar task working')
        done() // æ ‡è¯†ä»»åŠ¡ç»“æŸ
      })
      ```

    - ç»„åˆä»»åŠ¡ APIï¼š

      - series ï¼šä¸²è¡Œä»»åŠ¡
      - parallel ï¼šå¹¶è¡Œä»»åŠ¡

    - å¼‚æ­¥ä»»åŠ¡çš„ä¸‰ç§æ–¹å¼ï¼š

      1. é€šè¿‡å›è°ƒçš„å‡½æ•°çš„æ–¹å¼ï¼ˆcallbackï¼‰ï¼›
      2. promise æ–¹å¼ï¼›éœ€è¦return Promise å¯¹è±¡ï¼›
      3. async / await å‡½æ•°æ–¹å¼ï¼›

    ![gulpæ„å»ºè¿‡ç¨‹æ ¸å¿ƒå·¥ä½œåŸç†](files/typora-user-images/image-20211223100456131.png)

    - å°è£…è‡ªåŠ¨åŒ–æ„å»ºå·¥ä½œæµï¼š

    ![image-20211223142845089](files/typora-user-images/image-20211223142845089.png)

    1. åˆ›å»ºè‡ªå®šä¹‰ gulp æ¨¡å—ï¼›
    2. å°†æ¨¡å—å‘å¸ƒåˆ° npm ä»“åº“ï¼›
    3. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åˆ›å»ºçš„æ¨¡å—ï¼›

  - FISï¼šï¼ˆç™¾åº¦å‰ç«¯å›¢é˜Ÿæ¨å‡ºçš„æ„å»ºç³»ç»Ÿï¼‰

    - æ›´åƒæ˜¯æ†ç»‘ï¼Œå…¸å‹çš„éœ€æ±‚é›†æˆåœ¨å†…éƒ¨ï¼›
    - èµ„æºåŠ è½½
    - æ¨¡å—åŒ–å¼€å‘
    - ä»£ç éƒ¨ç½²
    - æ€§èƒ½ä¼˜åŒ–

### ç¬¬å››ç« ï¼šæ¨¡å—åŒ–æ‰“åŒ…

- æ¨¡å—åŒ–çš„æ¼”å˜è¿‡ç¨‹

  - Stage1 => æ–‡ä»¶åˆ’åˆ†æ–¹å¼ï¼›

    ç¼ºç‚¹ï¼š

    1. æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸï¼›
    2. å‘½ä»¤å†²çªé—®é¢˜ï¼›
    3. æ— æ³•ç®¡ç†æ¨¡å—ä¾èµ–å…³ç³»ï¼›

  - Stage2 => å‘½ä»¤ç©ºé—´æ–¹å¼ï¼›

    ä¼˜ç‚¹ï¼š

    1. å‡å°å‘½ä»¤å†²çªé—®é¢˜ï¼›

    ç¼ºç‚¹ï¼š

    1. æ²¡æœ‰ç§æœ‰åŒ–ï¼Œç§æœ‰ç©ºé—´ï¼›
    2. æ— æ³•ç®¡ç†æ¨¡å—ä¾èµ–å…³ç³»ï¼›

  - Stage3 => IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°ï¼‰ï¼›

    ä¼˜ç‚¹ï¼š

    1. ç§æœ‰ä½œç”¨åŸŸï¼Œæš´éœ²ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼›
    2. è‡ªæ‰§è¡Œå‡½æ•°çš„å‚æ•°ä½œä¸ºä¾èµ–å£°æ˜ï¼Œä¾èµ–å…³ç³»æ˜ç¡®äº†ï¼›

    ç¼ºç‚¹ï¼š

    1. é—­åŒ…çš„ç§æœ‰æˆå‘˜éš¾ä»¥å¾—åˆ°é‡Šæ”¾ï¼›å†…å­˜å ç”¨ï¼›

- æ¨¡å—åŒ–è§„èŒƒ

  - nodeç«¯ï¼šCommonJS è§„èŒƒï¼š**<font color = 'red'>æ˜¯ä»¥åŒæ­¥æ¨¡å¼åŠ è½½æ¨¡å—</font>**

    1. æ¯ä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼›
    2. æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å•ç‹¬çš„ä½œç”¨åŸŸï¼›
    3. é€šè¿‡ module-expert å¯¼å‡ºæˆå‘˜ï¼›
    4. é€šè¿‡ require å‡½æ•°è½½å…¥æ¨¡å—ï¼›

  - æµè§ˆå™¨ç«¯ï¼š

    1. Require.jsï¼šï¼ˆAMD [Asynchronous Module Definition]ï¼‰å¼‚æ­¥å®šä¹‰æ¨¡å—è§„èŒƒï¼ˆä¾èµ–å‰ç½®ï¼‰

       å®šä¹‰æ¨¡å—ï¼š

    ![image-20211227173319521](files/typora-user-images/image-20211227173319521.png)

    â€‹	  åŠ è½½æ¨¡å—ï¼š

    ![image-20211227173549644](files/typora-user-images/image-20211227173549644.png)

    2. Sea.jsï¼šï¼ˆCMD [Common Module Definition]ï¼‰ï¼ˆä¾èµ–åç½®-åœ¨callbackä¸­ require è½½å…¥ï¼‰

    ![image-20211227173836455](files/typora-user-images/image-20211227173836455.png)

  - ç°é˜¶æ®µç»Ÿä¸€ä¸¤ç§è§„èŒƒï¼š

    - æµè§ˆå™¨ç«¯ï¼šï¼ˆESModuleï¼‰

      - ESModule è¯­æ³•ç‰¹æ€§ï¼š
        1. é€šè¿‡ç»™ script æ·»åŠ  type = module çš„å±æ€§ï¼Œå°±å¯ä»¥ä»¥ ES Module çš„æ ‡å‡†æ‰§è¡Œå…¶ä¸­çš„ JS ä»£ç äº†ï¼›
        2. ESM è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå¿½ç•¥ â€œ use strict â€ï¼›this = undefinedï¼›
        3. æ¯ä¸ª ESM éƒ½æ˜¯è¿è¡Œåœ¨å•ç‹¬çš„ç§æœ‰ä½œç”¨åŸŸä¸­ï¼›
        4. ESM æ˜¯é€šè¿‡ CORS çš„æ–¹å¼è¯·æ±‚å¤–éƒ¨ JS æ¨¡å—çš„ï¼›ï¼ˆè·¨åŸŸé—®é¢˜ï¼‰
        5. ESM çš„ script æ ‡ç­¾ä¼šé»˜è®¤å»¶è¿Ÿæ‰§è¡Œè„šæœ¬ï¼›ï¼ˆdefer å±æ€§ï¼‰

      ```javascript
      // ./module.js
      const foo = 'es modules'
      export { foo } // å¯¼å‡º
      // ./app.js
      import { foo } from './module.js' // å¯¼å…¥
      console.log(foo) // => es modules
      ```

      - ESModule å¯¼å…¥å¯¼å‡ºçš„æ³¨æ„äº‹é¡¹ï¼š

        1. export { name, age } ä¸æ˜¯å¯¹è±¡å­—é¢é‡çš„å¯¼å‡ºã€‚è€Œæ˜¯ESModule å¯¼å‡ºçš„å›ºå®šè¯­æ³•ï¼›export default { name, age } æ˜¯å¯¼å‡ºå¯¹è±¡å’Œå¯¹è±¡å­—é¢é‡ï¼›

        2. ESModule å¯¼å‡ºæˆå‘˜æ˜¯è¿™ä¸ªæˆå‘˜çš„å¼•ç”¨ï¼Œå¯¹å¤–æš´éœ²çš„æ˜¯åªè¯»çš„ï¼›

        3. å¯¼å…¥æ¨¡å—ä¸èƒ½åµŒå¥—åœ¨ if è¯­å¥å’Œå‡½æ•°ä¸­å¯¼å…¥ï¼Œåªèƒ½åœ¨æœ€é¡¶å±‚å¯¼å…¥ï¼›

        4. import(â€˜./xx.jsâ€™) å‡½æ•°åŠ¨æ€å¯¼å…¥æ¨¡å—ï¼Œè¿”å›çš„æ˜¯ promise ï¼›

        5. å‘½åæˆå‘˜å’Œé»˜è®¤æˆå‘˜åŒæ—¶å¯¼å…¥å¯¼å‡ºï¼Œé»˜è®¤æˆå‘˜éœ€è¦é‡å‘½åå¯¼å…¥ï¼›

           ![image-20211228095413573](files/typora-user-images/image-20211228095413573.png)

      - Polyfill å…¼å®¹æ–¹æ¡ˆï¼š

        ![image-20211228100314107](files/typora-user-images/image-20211228100314107.png)

        - nomodule çš„å±æ€§æ˜¯åœ¨æ”¯æŒ ESModule çš„æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä¸éœ€ Polyfill ï¼›é¿å…åœ¨æ”¯æŒ ESModule çš„æµè§ˆå™¨ä¸­æ‰§è¡Œä¸¤æ¬¡ï¼›
        - æ­¤æ–¹å¼åªé€‚åˆæœ¬å¼€å‘åœ°æµ‹è¯•ï¼Œä¸é€‚åˆç”Ÿäº§é˜¶æ®µï¼Œå› ä¸ºå®ƒçš„åŸç†æ˜¯åŠ¨æ€çš„å»è§£æè„šæ­¥ï¼Œæ•ˆç‡ä½ã€‚åœ¨ç”Ÿäº§é˜¶æ®µï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¼šå…ˆç¼–è¯‘å‡ºæ¥ï¼Œå†åˆ°æµè§ˆå™¨ä¸­å·¥ä½œï¼›

    - node ç«¯ï¼šï¼ˆCommonJSï¼‰8.5+ç‰ˆæœ¬å·²ç»å¼€å§‹æ”¯æŒ ESModule

      - åœ¨ node ç¯å¢ƒä¸­å¯åŠ¨ ESModule çš„ç¯å¢ƒä»£ç 

        ```shell
        # --experimental-modules é€šè¿‡ ESModule æ‰§è¡Œ
        node --experimental-modules index.mjs
        ```

      - ä¸æ”¯æŒè§£æ„å¯¼å‡ºæˆå‘˜ï¼Œå› ä¸ºç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯å¯¼å‡ºé»˜è®¤æˆå‘˜ï¼›

      - å¯ä»¥æ”¯æŒç³»ç»Ÿå†…ç½®æ¨¡å—çš„æˆå‘˜æå–ï¼›

        ```javascript
        // ç³»ç»Ÿå†…ç½®æ¨¡å—ï¼Œå®˜æ–¹å…¼å®¹äº† ESM çš„æå–æˆå‘˜æ–¹å¼
        import { writeFileSync } from 'fs';
        writeFileSync('./bar.txt', 'ES module working');
        ```

      - CommonJS æ¨¡å—å§‹ç»ˆåªä¼šå¯¼å‡ºä¸€ä¸ªé»˜è®¤æˆå‘˜ï¼›

      - ES Modules ä¸­å¯ä»¥å¯¼å…¥ CommonJS æ¨¡å—ï¼›

      - import ä¸èƒ½ç›´æ¥æå– CommonJS ä¸­çš„æˆå‘˜ï¼Œimport ä¸æ˜¯è§£æ„å¯¼å‡ºå¯¹è±¡ï¼Œåªæ˜¯ä¸€ä¸ªå›ºå®šç”¨æ³•ï¼Œæ˜¯æå–æ¨¡å—ä¸­å¯¼å‡ºçš„å‘½åæˆå‘˜ï¼›

      - åœ¨ node åŸå£°ç¯å¢ƒä¸­ï¼Œä¸èƒ½åœ¨ CommonJS æ¨¡å—ä¸­é€šè¿‡ require è½½å…¥ ES Moduleï¼›

      - ES Modules åœ¨ node ç¯å¢ƒä¸­ä¸ CommonJS æ¨¡å—çš„å·®å¼‚ï¼š

        ```shell
        nodemon --experimental-modules esm.mjs
        ```

        ```javascript
        // æ¨¡å—å†…ç½®çš„å…¨å±€å˜é‡ commonJS ä¸­ï¼›
        // åŠ è½½æ¨¡å—å‡½æ•°
        consloe.log(require);
        // æ¨¡å—å¯¹è±¡
        consloe.log(module);
        // å¯¼å‡ºå¯¹è±¡åˆ«å
        consloe.log(exports);
        // å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
        consloe.log(__filename);
        // å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•
        consloe.log(__dirname);
        ```

        1. åœ¨ ES Module ä¸­æ²¡æœ‰ CommonJS ä¸­çš„é‚£äº›æ¨¡å—çš„å…¨å±€æˆå‘˜äº†ï¼›

        2. node çš„ æ–°ç‰ˆæœ¬ä¸­è¿›ä¸€æ­¥æ”¯æŒäº† ES Module 

           ```shell
           # åˆ‡æ¢ node ç‰ˆæœ¬
           nvm use 12.10.0
           node --version
           ```

      - babel (node ç¯å¢ƒä¸­é€šè¿‡ babel å…¼å®¹æ–¹æ¡ˆ)

        ![image-20211228104544899](files/typora-user-images/image-20211228104544899.png)

        ```shell
        yarn babel-node index.js --presets=@babel/preset-env
        ```

        æ·»åŠ  .babelrc æ–‡ä»¶ï¼›

        ```json
        {
        	"presets": ["@babel/preset-env"]
        }
        // æˆ–ç€ å®‰è£… yarn add @babel/plugin-transform-modules
        {
          "plugins": [
            "@babel/plugin-transform-modules"
          ]
        }
        ```

- å¸¸ç”¨æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·

  -  æ–°ç‰¹æ€§ä»£ç ç¼–è¯‘
  - æ¨¡å—åŒ– javascript æ‰“åŒ…
  - æ”¯æŒä¸åŒç±»å‹çš„èµ„æºæ¨¡å—
  - ä¸»æµå·¥å…·
    1. Webpackï¼›
    2. Parcelï¼›
    3. Rollupï¼›

- åŸºäºæ¨¡å—åŒ–å·¥å…·æ„å»ºç°ä»£webåº”ç”¨

- æ‰“åŒ…å·¥å…·çš„ä¼˜åŒ–æŠ€å·§

### ç¬¬äº”ç« ï¼šé¡¹ç›®ä»£ç è§„èŒƒåŒ–

- ä»£ç ã€æ–‡æ¡£ã€ç”šè‡³æ˜¯æäº¤æ—¥å¿—

- å¼€å‘è¿‡ç¨‹ä¸­äººä¸ºç¼–å†™çš„æˆæœç‰©

- ä»£ç æ ‡å‡†åŒ–è§„èŒƒæœ€ä¸ºé‡è¦

- é€šè¿‡å·¥å…·å®ç° Lint

- å¸¸è§çš„è§„èŒƒåŒ–å®ç°æ–¹å¼ï¼ˆESLintå·¥å…· ğŸ”§ï¼‰

  - ESLint å·¥å…·ä½¿ç”¨
  - å®šåˆ¶ ESLint æ ¡éªŒè§„åˆ™
  - ESLint å¯¹ TypeScript çš„æ”¯æŒ
  - ESLint ç»“åˆè‡ªåŠ¨åŒ–å·¥å…·æˆ–è€… Webpack
  - åŸºäº ESLint çš„è¡ç”Ÿå·¥å…·
  - Stylelint å·¥å…·çš„ä½¿ç”¨

- ESLint ä»‹ç»ï¼š

  - æœ€ä¸ºä¸»æµ çš„ javascript Lint å·¥å…·ç›‘æµ‹ JS ä»£ç è´¨é‡
  - ESLint å¾ˆå®¹æ˜“ç»Ÿä¸€å¼€å‘è€…çš„ç¼–ç é£æ ¼
  - ESLint å¯ä»¥å¸®åŠ©å¼€å‘è€…æå‡ç¼–ç èƒ½åŠ›

- ESLint å®‰è£…ï¼š

  - åˆå§‹åŒ–é¡¹ç›®

  - å®‰è£… ESLint æ¨¡å—ä¸ºå¼€å‘ä¾èµ–

  - é€šè¿‡ CLI å‘½ä»¤éªŒè¯å®‰è£…ç»“æœ

    ```shell
    # å®‰è£…ESLint 
    yarn add eslint --save-dev
    # æŸ¥çœ‹ ESLint çš„ç‰ˆæœ¬
    npx eslint --version
    ```

- ESLint å¿«é€Ÿä¸Šæ‰‹ï¼š

  - ESLint æ£€æŸ¥æ­¥éª¤ï¼š
    - ç¼–å†™â€œé—®é¢˜â€ä»£ç ï¼›
    - ä½¿ç”¨ ESLint æ‰§è¡Œæ£€æµ‹
    - å®Œæˆ ESLint ä½¿ç”¨é…ç½®

  ```shell
  # ESLint æ‰§è¡Œæ£€æµ‹
  npx eslint index.html
  # è‡ªåŠ¨ä¿®å¤é—®é¢˜ä»£ç 
  npx eslint index.html --fix
  ```

- ESLint é…ç½®æ–‡ä»¶è§£æ

  ```javascript
  // .eslintrc.js
  module.exports = {
      "env": { // æ ‡è®°å½“å‰ä»£ç è¿è¡Œä¸­çš„ç¯å¢ƒ
          "browser": true,
          "es2021": true,
          "node": true
      },
    	// å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªå…±äº«é…ç½®
      "extends": [
          "standard" // ç»§æ‰¿ standard çš„é£æ ¼é…ç½®
      ],
    	// è®¾ç½®è¯­æ³•è§£æå™¨çš„é…ç½®
      "parserOptions": {
          "ecmaVersion": 13
      },
    	// é…ç½®æ¯ä¸ªæ ¡éªŒè§„åˆ™çš„å¼€å¯æˆ–å…³é—­
      "rules": {
        "no-alert": "error" // 'off', 'wraing', 'error'
      },
    	"globals":{ // é¢å¤–çš„åœ¨ä»£ç ä¸­é…ç½®å…¨å±€æˆå‘˜ä½¿ç”¨
        "jQuery": "readonly"
      }
  };
  ```

  - env å±æ€§æ‰€å¯¹åº”çš„å…¨å±€ç¯å¢ƒï¼ˆç¯å¢ƒä¸æ˜¯äº’æ–¥çš„ï¼Œå¯ä»¥åŒæ—¶å¼€å¯å¤šä¸ªç¯å¢ƒï¼‰

    ![image-20211230150610867](files/typora-user-images/image-20211230150610867.png)

- ESLint é…ç½®æ³¨é‡Šï¼š

  - æ³¨é‡Šè¯­æ³•ï¼š

  ```javascript
  // eslint-disable-line [å…·ä½“çš„è§„åˆ™åç§°ï¼šno-template-curly-in-string] è¡¨ç¤ºå¿½ç•¥å•è¡Œä»£ç æ£€æµ‹è§„åˆ™
  ```

- ESLint ç»“åˆ Gulp è‡ªåŠ¨åŒ–å·¥å…·ï¼š

  - pipe(pligins.eslint())  // å¯ç”¨ ESLint æ£€æµ‹ä»£ç ä¸­çš„é—®é¢˜
  - pipe(pligins.eslint.format()) // ESLint å¤„ç†å®Œæˆååœ¨æ§åˆ¶å°æ‰“å°å…·ä½“çš„é”™è¯¯ä¿¡æ¯
  - pipe(pligins.eslint.failAfterError()) // æ£€æµ‹ ESLint ä¸­çš„é”™è¯¯åç»ˆæ­¢ä»»åŠ¡ç®¡é“

- ESLint ç»“åˆ Webpack æ„å»ºå·¥å…·ï¼š

  - ESLint é€šè¿‡ loader æœºåˆ¶é›†æˆåˆ° webpack ä¸­
  - å®‰è£… eslint-loader æ¨¡å—
  - åˆå§‹åŒ– .eslintrc.js é…ç½®æ–‡ä»¶

- ESLint ç»“åˆ TypeScript ä½¿ç”¨

  ```javascript
  // .eslintrc.js
  module.exports = {
      "env": { // æ ‡è®°å½“å‰ä»£ç è¿è¡Œä¸­çš„ç¯å¢ƒ
          "browser": true,
          "es2021": true,
          "node": true
      },
    	// å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªå…±äº«é…ç½®
      "extends": [
          "standard" // ç»§æ‰¿ standard çš„é£æ ¼é…ç½®
      ],
    	// ä½œç”¨æ˜¯æŒ‡å®šä¸€ä¸ªè¯­æ³•è§£æå™¨
    	"parser": "@typescript-eslint/parser",
    	// è®¾ç½®è¯­æ³•è§£æå™¨çš„é…ç½®
      "parserOptions": {
          "ecmaVersion": 13
      },
    	// é…ç½®æ¯ä¸ªæ ¡éªŒè§„åˆ™çš„å¼€å¯æˆ–å…³é—­
      "rules": {
      },
    	"plugins": [
        "@typescript-eslint"
      ]
  };
  ```

- Stylelint çš„è®¤è¯†ï¼š

  - æä¾›é»˜è®¤çš„ä»£ç æ£€æŸ¥è§„åˆ™
  - æä¾› CLI å·¥å…·ï¼Œå¿«é€Ÿè°ƒç”¨
  - é€šè¿‡æ’ä»¶æ”¯æŒ Sassã€Lessã€PostCSS
  - æ”¯æŒ Gulp æˆ– Webpack é›†æˆ

  ```shell
  # å®‰è£… stylelint 
  yarn add stylelint --save-dev
  # æ·»åŠ  .stylelint.js é…ç½®æ–‡ä»¶
  # å®‰è£… stylelint å…±äº«é…ç½®æ–‡ä»¶
  yarn add stylelint-config-standard --save-dev
  # å®‰è£… stylelint-config-sass-guidelines çš„ sass æ¨¡å—
  yarn add stylelint-config-sass-guidelines --save-dev
  # ä½¿ç”¨ stylelint æ£€æŸ¥
  npx stylelint ./index.css
  ```

  ```javascript
  // .stylelint.js é…ç½®æ–‡ä»¶
  module.exports = {
    // ç»§æ‰¿é…ç½®æ¨¡å—
    extends: ['stylelint-config-standard', 'stylelint-config-sass-guidelines']
  }
  ```

- Prettier çš„ä½¿ç”¨ï¼š
  - 

### ç¬¬å…­ç« ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²



### å…¶ä»–

- node cli ç¨‹åºçš„æƒé™é—®é¢˜ï¼ˆLinuxï¼‰

![image-20211227112248217](files/typora-user-images/image-20211227112248217.png)

- chmod 755 cli.jsï¼› chmod +x cli.jsï¼›
